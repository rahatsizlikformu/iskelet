<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Kas İskelet Sistemi Rahatsızlık Formu</title>
    <!-- Stil kodları -->
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; font-size: 12pt; line-height: 1.6; color: #333; background-color: #f0f2f5; margin: 0; padding: 20px; }
        .container { max-width: 850px; margin: 20px auto; background-color: #fff; padding: 40px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        h1 { font-size: 18pt; text-align: center; color: #1c1e21; }
        .subtitle { font-size: 10pt; text-align: center; margin-bottom: 25px; color: #606770; }
        .grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px 30px; margin-bottom: 20px; align-items: center; }
        input[type="text"], input[type="number"], select { border: 1px solid #ccc; border-radius: 4px; padding: 8px 10px; width: 100%; box-sizing: border-box; font-size: 11pt; font-family: inherit; }
        h3 { border-bottom: 2px solid #f0f2f5; padding-bottom: 10px; margin-top: 30px; font-size: 14pt; }
        .how-to-text { font-size: 11pt; color: #4b4f56; }
        .body-image-container { text-align: center; margin: 25px 0; }
        .body-image { max-width: 80%; width: 500px; height: auto; }
        table { width: 100%; border-collapse: collapse; margin-top: 25px; font-size: 10.5pt; }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; vertical-align: top; }
        th { background-color: #f6f7f8; font-weight: 600; }
        .checkbox-group label, .radio-group label { display: inline-block; margin-right: 15px; cursor: pointer; }
        input[type="checkbox"], input[type="radio"] { margin-right: 5px; transform: scale(1.1); vertical-align: middle; }
        .submit-button { display: block; width: 100%; max-width: 300px; margin: 40px auto 0 auto; padding: 15px; background-color: #1877f2; color: white; border: none; border-radius: 6px; font-size: 14pt; font-weight: bold; cursor: pointer; text-align: center; transition: background-color 0.2s; }
        .submit-button:hover { background-color: #166fe5; }
        .submit-button:disabled { background-color: #9dbef2; cursor: not-allowed; }
    </style>
</head>
<body>
    <div class="container">
        <form id="contact-form">
            <h1>Kas İskelet Sistemi Rahatsızlık Formu</h1>
            <div class="subtitle">(Nordic Anketine dayanmaktadır, Kuorinka ve ark. 1987)</div>
            
            <div class="grid">
                <div><strong>İş/Pozisyon:</strong> <input type="text" name="Is_Pozisyon"></div>
                <div><strong>Uzmanlık:</strong>
                    <select name="Uzmanlik" required>
                        <option value="" disabled selected>Lütfen bir uzmanlık seçin...</option>
                        <option value="Ortodontist">Ortodontist</option>
                        <option value="Endodontist">Endodontist</option>
                        <option value="Pedodontist">Pedodontist</option>
                        <option value="Periodontist">Periodontist</option>
                        <option value="Protez">Protez</option>
                        <option value="Oral Diyagnoz">Oral Diyagnoz</option>
                        <option value="Ağız, Diş ve Çene Cerrahı">Ağız, Diş ve Çene Cerrahı</option>
                    </select>
                </div>
                <div><strong>Ne kadar süredir bu işi yapıyorsunuz?</strong> <input type="number" name="Calisma_Yil" style="width: 40px;"> yıl <input type="number" name="Calisma_Ay" style="width: 40px;"> ay</div>
                <div><strong>Haftada kaç saat çalışıyorsunuz?</strong> <input type="number" name="Haftalik_Saat" style="width: 60px;"></div>
                <div><strong>Cinsiyet:</strong> <label><input type="radio" name="Cinsiyet" value="Erkek"> E</label> <label><input type="radio" name="Cinsiyet" value="Kadın"> K</label></div>
                <div><strong>Yaş:</strong> <input type="number" name="Yas" style="width: 60px;"></div>
                <div><strong>Boy (cm):</strong> <input type="number" name="Boy_cm" style="width: 70px;"></div>
                <div><strong>Kilo (kg):</strong> <input type="number" name="Kilo_kg" style="width: 70px;"></div>
            </div>

            <hr style="border: 1px solid #eee; margin: 30px 0;">
            <h3>Anket nasıl doldurulur:</h3>
            <div class="how-to-text">
                <p><strong>Resim:</strong> Bu resimde, tabloda belirtilen vücut bölgelerinin yaklaşık konumlarını görebilirsiniz. Sınırlar net olarak tanımlanmamıştır ve bazı kısımlar örtüşmektedir. Rahatsızlığınızın (eğer varsa) hangi bölgede olduğuna kendiniz karar vermelisiniz.</p>
                <p><strong>Tablo:</strong> Lütfen her soru için uygun kutuya bir "X" işareti koyarak cevap verin. Vücudunuzun herhangi bir bölgesinde hiç rahatsızlık yaşamamış olsanız bile anketin 1. sütununun cevaplanması gerektiğini unutmayın; 2. ve 3. sütunlar ise 1. sütunda evet cevabı verdiyseniz doldurulacaktır.</p>
            </div>
            
            <div class="body-image-container">
                <img src="https://i.ibb.co/WvNVNJRn/Untitled-1.png" alt="Vücut Bölgeleri" class="body-image">
            </div>
            
            <table>
                 <thead>
                    <tr>
                        <th>Herkes tarafından cevaplanacak</th>
                        <th colspan="2">Rahatsızlık yaşamış olanlar tarafından cevaplanacak</th>
                    </tr>
                    <tr>
                        <td><strong>Son 12 ay içinde ağrı/sızı veya rahatsızlık hissettiniz mi?</strong></td>
                        <td><strong>Son 12 ay içinde rahatsızlık işinizi yapmanıza engel oldu mu?</strong></td>
                        <td><strong>Son 7 gün içinde rahatsızlık yaşadınız mı?</strong></td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Boyun</strong><div class="radio-group"><label><input type="radio" name="Boyun_12_Ay" value="Hayır"> Hayır</label><label><input type="radio" name="Boyun_12_Ay" value="Evet"> Evet</label></div></td>
                        <td><div class="radio-group"><label><input type="radio" name="Boyun_Engel" value="Hayır"> Hayır</label><label><input type="radio" name="Boyun_Engel" value="Kısmen"> Kısmen</label><label><input type="radio" name="Boyun_Engel" value="Evet"> Evet</label></div></td>
                        <td><div class="radio-group"><label><input type="radio" name="Boyun_7_Gun" value="Hayır"> Hayır</label><label><input type="radio" name="Boyun_7_Gun" value="Evet"> Evet</label></div></td>
                    </tr>
                    <!-- Omuz, Dirsek, El soruları checkbox'a çevrildi -->
                    <tr>
                        <td><strong>Omuzlar</strong><div class="checkbox-group" id="omuzlar-grup"><label><input type="checkbox" name="Omuzlar_Bolge" value="Hayır"> Hayır</label><label><input type="checkbox" name="Omuzlar_Bolge" value="Sağ Omuz"> Sağ</label><label><input type="checkbox" name="Omuzlar_Bolge" value="Sol Omuz"> Sol</label></div></td>
                        <td><div class="radio-group"><label><input type="radio" name="Omuzlar_Engel" value="Hayır"> Hayır</label><label><input type="radio" name="Omuzlar_Engel" value="Kısmen"> Kısmen</label><label><input type="radio" name="Omuzlar_Engel" value="Evet"> Evet</label></div></td>
                        <td><div class="radio-group"><label><input type="radio" name="Omuzlar_7_Gun" value="Hayır"> Hayır</label><label><input type="radio" name="Omuzlar_7_Gun" value="Evet"> Evet</label></div></td>
                    </tr>
                    <tr>
                        <td><strong>Dirsekler</strong><div class="checkbox-group" id="dirsekler-grup"><label><input type="checkbox" name="Dirsekler_Bolge" value="Hayır"> Hayır</label><label><input type="checkbox" name="Dirsekler_Bolge" value="Sağ Dirsek"> Sağ</label><label><input type="checkbox" name="Dirsekler_Bolge" value="Sol Dirsek"> Sol</label></div></td>
                        <td><div class="radio-group"><label><input type="radio" name="Dirsekler_Engel" value="Hayır"> Hayır</label><label><input type="radio" name="Dirsekler_Engel" value="Kısmen"> Kısmen</label><label><input type="radio" name="Dirsekler_Engel" value="Evet"> Evet</label></div></td>
                        <td><div class="radio-group"><label><input type="radio" name="Dirsekler_7_Gun" value="Hayır"> Hayır</label><label><input type="radio" name="Dirsekler_7_Gun" value="Evet"> Evet</label></div></td>
                    </tr>
                    <tr>
                        <td><strong>El Bilekleri/Eller</strong><div class="checkbox-group" id="eller-grup"><label><input type="checkbox" name="Eller_Bolge" value="Hayır"> Hayır</label><label><input type="checkbox" name="Eller_Bolge" value="Sağ El/Bilek"> Sağ</label><label><input type="checkbox" name="Eller_Bolge" value="Sol El/Bilek"> Sol</label></div></td>
                        <td><div class="radio-group"><label><input type="radio" name="Eller_Engel" value="Hayır"> Hayır</label><label><input type="radio" name="Eller_Engel" value="Kısmen"> Kısmen</label><label><input type="radio" name="Eller_Engel" value="Evet"> Evet</label></div></td>
                        <td><div class="radio-group"><label><input type="radio" name="Eller_7_Gun" value="Hayır"> Hayır</label><label><input type="radio" name="Eller_7_Gun" value="Evet"> Evet</label></div></td>
                    </tr>
                    <!-- Diğer satırlar aynı -->
                    <tr>
                        <td><strong>Sırtın Üst Kısmı</strong><div class="radio-group"><label><input type="radio" name="UstSirt_12_Ay" value="Hayır"> Hayır</label><label><input type="radio" name="UstSirt_12_Ay" value="Evet"> Evet</label></div></td>
                        <td><div class="radio-group"><label><input type="radio" name="UstSirt_Engel" value="Hayır"> Hayır</label><label><input type="radio" name="UstSirt_Engel" value="Kısmen"> Kısmen</label><label><input type="radio" name="UstSirt_Engel" value="Evet"> Evet</label></div></td>
                        <td><div class="radio-group"><label><input type="radio" name="UstSirt_7_Gun" value="Hayır"> Hayır</label><label><input type="radio" name="UstSirt_7_Gun" value="Evet"> Evet</label></div></td>
                    </tr>
                    <tr>
                        <td><strong>Sırtın Alt Kısmı (bel)</strong><div class="radio-group"><label><input type="radio" name="AltSirt_12_Ay" value="Hayır"> Hayır</label><label><input type="radio" name="AltSirt_12_Ay" value="Evet"> Evet</label></div></td>
                        <td><div class="radio-group"><label><input type="radio" name="AltSirt_Engel" value="Hayır"> Hayır</label><label><input type="radio" name="AltSirt_Engel" value="Kısmen"> Kısmen</label><label><input type="radio" name="AltSirt_Engel" value="Evet"> Evet</label></div></td>
                        <td><div class="radio-group"><label><input type="radio" name="AltSirt_7_Gun" value="Hayır"> Hayır</label><label><input type="radio" name="AltSirt_7_Gun" value="Evet"> Evet</label></div></td>
                    </tr>
                    <tr>
                        <td><strong>Bir veya İki Kalça/Uyluk</strong><div class="radio-group"><label><input type="radio" name="Kalca_12_Ay" value="Hayır"> Hayır</label><label><input type="radio" name="Kalca_12_Ay" value="Evet"> Evet</label></div></td>
                        <td><div class="radio-group"><label><input type="radio" name="Kalca_Engel" value="Hayır"> Hayır</label><label><input type="radio" name="Kalca_Engel" value="Kısmen"> Kısmen</label><label><input type="radio" name="Kalca_Engel" value="Evet"> Evet</label></div></td>
                        <td><div class="radio-group"><label><input type="radio" name="Kalca_7_Gun" value="Hayır"> Hayır</label><label><input type="radio" name="Kalca_7_Gun" value="Evet"> Evet</label></div></td>
                    </tr>
                    <tr>
                        <td><strong>Bir veya İki Diz</strong><div class="radio-group"><label><input type="radio" name="Diz_12_Ay" value="Hayır"> Hayır</label><label><input type="radio" name="Diz_12_Ay" value="Evet"> Evet</label></div></td>
                        <td><div class="radio-group"><label><input type="radio" name="Diz_Engel" value="Hayır"> Hayır</label><label><input type="radio" name="Diz_Engel" value="Kısmen"> Kısmen</label><label><input type="radio" name="Diz_Engel" value="Evet"> Evet</label></div></td>
                        <td><div class="radio-group"><label><input type="radio" name="Diz_7_Gun" value="Hayır"> Hayır</label><label><input type="radio" name="Diz_7_Gun" value="Evet"> Evet</label></div></td>
                    </tr>
                    <tr>
                        <td><strong>Bir veya İki Ayak Bileği/Ayak</strong><div class="radio-group"><label><input type="radio" name="Ayak_12_Ay" value="Hayır"> Hayır</label><label><input type="radio" name="Ayak_12_Ay" value="Evet"> Evet</label></div></td>
                        <td><div class="radio-group"><label><input type="radio" name="Ayak_Engel" value="Hayır"> Hayır</label><label><input type="radio" name="Ayak_Engel" value="Kısmen"> Kısmen</label><label><input type="radio" name="Ayak_Engel" value="Evet"> Evet</label></div></td>
                        <td><div class="radio-group"><label><input type="radio" name="Ayak_7_Gun" value="Hayır"> Hayır</label><label><input type="radio" name="Ayak_7_Gun" value="Evet"> Evet</label></div></td>
                    </tr>
                </tbody>
            </table>
            
            <button type="submit" class="submit-button" id="submit_button">Bilgileri Gönder</button>
        </form>
    </div>

    <script>
        // Akıllı Checkbox'lar için JavaScript
        function setupExclusiveCheckboxes(groupId) {
            const group = document.getElementById(groupId);
            const checkboxes = group.querySelectorAll('input[type="checkbox"]');
            const noCheckbox = Array.from(checkboxes).find(cb => cb.value === 'Hayır');
            const sideCheckboxes = Array.from(checkboxes).filter(cb => cb.value !== 'Hayır');

            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', () => {
                    if (checkbox === noCheckbox && checkbox.checked) {
                        sideCheckboxes.forEach(sc => sc.checked = false);
                    } else if (sideCheckboxes.includes(checkbox) && checkbox.checked) {
                        noCheckbox.checked = false;
                    }
                });
            });
        }
        setupExclusiveCheckboxes('omuzlar-grup');
        setupExclusiveCheckboxes('dirsekler-grup');
        setupExclusiveCheckboxes('eller-grup');

        // Form Gönderme Kodu
        const form = document.getElementById('contact-form');
        form.addEventListener("submit", e => {
            e.preventDefault();
            const btn = document.getElementById('submit_button');
            btn.textContent = 'Gönderiliyor...';
            btn.disabled = true;

            const formData = new FormData(form);
            const data = {};
            const checkboxGroups = {};

            for (let [key, value] of formData.entries()) {
                if (form.querySelector(`[name="${key}"][type="checkbox"]`)) {
                    if (!checkboxGroups[key]) checkboxGroups[key] = [];
                    checkboxGroups[key].push(value);
                } else {
                    data[key] = value;
                }
            }
            for (let key in checkboxGroups) {
                data[key] = checkboxGroups[key].join(', ');
            }

            const sheetDB_API_URL = 'https://sheetdb.io/api/v1/8adk03r506ch0'; 

            fetch(sheetDB_API_URL, {
                method: 'POST',
                headers: { 'Accept': 'application/json', 'Content-Type': 'application/json' },
                body: JSON.stringify({ data: [data] })
            })
            .then((response) => response.json())
            .then(() => { window.location.href = 'tesekkurler.html'; })
            .catch(error => {
                btn.textContent = 'Bilgileri Gönder';
                btn.disabled = false;
                alert('Bir hata oluştu. Lütfen tekrar deneyin.');
                console.error(error);
            });
        });
    </script>
</body>
</html>
